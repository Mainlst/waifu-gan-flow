# 🎨 fbanimegan-onxx

Latent-space anime character generator and morphing tool using [ONNX Runtime](https://onnxruntime.ai/).  
This project is an ONNX-based implementation of the [skytnt/fbanime-gan](https://huggingface.co/skytnt/fbanime-gan) model.

![screenshot](https://huggingface.co/spaces/skytnt/full-body-anime-gan/resolve/main/example.gif)

---

## 🧩 Features

- ✅ Random or seed-based full-body anime character generation
- ✅ Encode existing anime images into latent space
- ✅ Generate smooth morphing videos (latent interpolation)
- ✅ Run locally via ONNX with GPU acceleration
- ✅ Gradio GUI with three simple tabs

---

## ⚙️ Installation

### 🌿 Option 1: Using Conda (`environment.yml`)

```bash
conda env create -f environment.yml
conda activate fbanimegan-onxx
python fullbody_gan_app.py
```

### 🐍 Option 2: Using pip (`requirements.txt`)

```bash
pip install -r requirements.txt
python fullbody_gan_app.py
```

---

## 📦 Download Model Files

Download the following 4 files from [skytnt/fbanime-gan](https://huggingface.co/skytnt/fbanime-gan)  
and place them under `./models/`:

- `g_mapping.onnx`
- `g_synthesis.onnx`
- `fb_encoder.onnx`
- `waifu_dect.onnx`

You can use the CLI:
```bash
pip install huggingface_hub
huggingface-cli download skytnt/fbanime-gan g_mapping.onnx --local-dir models
```

Repeat for the remaining files.

---

## 🚀 Usage

```bash
python scripts/fullbody_gan_app.py
```

Then access `http://localhost:7860` or use the `share` URL generated by Gradio.

### Tabs:

1. **Generate Image**  
   Random or seed-based character generation.
2. **Encode Image**  
   Upload a standing full-body anime image to encode it into latent space.
3. **Generate Video**  
   Morph between two characters using latent-space interpolation.

> All generated images are saved to `outputs/images/`  
> Videos are saved to `outputs/videos/`

---

## 🗂 Directory Structure

```text
fbanimegan-onxx/
├── models/            ← Put ONNX files here (not included)
├── outputs/           ← Generated images and videos
├── stylegan3/         ← Optional reference code
├── environment.yml    ← Conda-based environment
├── requirements.txt   ← pip-based environment
├── fullbody_gan_app.py
├── LICENSE
└── README.md
```

---

## 📄 License

This project is licensed under the [Apache License 2.0](LICENSE).  
It is based on [skytnt/fbanime-gan](https://huggingface.co/skytnt/fbanime-gan), which is also licensed under Apache-2.0.

---

## ✨ Credit

- Model: [skytnt/fbanime-gan](https://huggingface.co/skytnt/fbanime-gan)
- Original GUI: [skytnt/full-body-anime-gan](https://huggingface.co/spaces/skytnt/full-body-anime-gan)
- This repo: ONNX-only local runnable version with enhanced video saving